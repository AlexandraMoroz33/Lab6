
# Модель прецедентів

## Загальна схема

<center style="
   border-radius:4px;
   border: 1px solid #cfd7e6;
   box-shadow: 0 1px 3px 0 rgba(89,105,129,.05), 0 1px 1px 0 rgba(0,0,0,.025);
   padding: 1em;"
>

![](http://www.plantuml.com/plantuml/png/ZPFF3j904CRlVOeDT-8Ba0PFXaGJOw8dBmkiJMExDRjjl7ZWZwW74mmI3bpq4GYMG0JgAyo-aTFTkkcoQBpEpFxc-xvE-pAd8Y_I992lO_w62feIEiepGJhmLMtKLCtKvmwXaZmgcCnjRmkLci19z-UmXvtwgAUUIoRiq1SeuQ8sS6r04noRrG_rwCDn6lDOveBYT10KaesePAJJ6uOrvHcBJ3FEUE_1C7p9uJiSrDgIFY1rIU2dhmHsUe4XC57J7FpJJEOlOlOsvb53_eRa2HpW1vpL4ae2lw3In0tiDQlrn9NwE8i6V_Ijr08Vb4JDYPeQISYygBb6w4bFnu2ZGWpCkYImWYEwMCC5AYYDoQDL13kid_vb-uRg1Uiu9vvr_Rq-8NbnTubDf8LoJOdiLPom__U56ohr7hddEYpDzXZ38F2IUq8vZLZAUDx4lwsT69rmHHFBcz0qsdtfXNCB9JxrBzdR3Iu6XTS5qYswxqBp4mNEvJSTVQI1xjULqBdULjszHCiEYRclfY2mu1s2QINOQdyxIxYRkYjLSzq4dGcBTnBeCpukqkGt)

</center>

## Гість

<center style="
   border-radius:4px;
   border: 1px solid #cfd7e6;
   box-shadow: 0 1px 3px 0 rgba(89,105,129,.05), 0 1px 1px 0 rgba(0,0,0,.025);
   padding: 1em;"
>

![](http://www.plantuml.com/plantuml/png/PP71IWCn48RlUOgXzzQxbAKthwBeoKkwZYNOPaicYnvh1Rq8FIYzwYEKQa4ghgymUIDdiujaCQVCF_c__CcCo6ldozbKqRMnS-tq37Jk2mSzVWxhS1UMuQa7ck2eHFAWL4cOQqBe3SVP6Q4xmOaXxxGtXHqUZBCBos-y2o_Hkk1DU13C2dZFbPIVKRxdhJGUUHF93G5TJUlWZmlovmPlZ9sqv5SXBtZ7x_mLLlm1_CDL9Avv6rc9fODgjTCvvkRAvFMn1Wd_cPAKltbVYs4fkqfQrTzLRUYKf5HQmM0woD8WXtZhqLwIQhwmN_QppfjJFSqlQoG-6Sul)

</center>

## Користувач

<center style="
   border-radius:4px;
   border: 1px solid #cfd7e6;
   box-shadow: 0 1px 3px 0 rgba(89,105,129,.05), 0 1px 1px 0 rgba(0,0,0,.025);
   padding: 1em;"
>

![](http://www.plantuml.com/plantuml/png/bPJFRjD04CRlVefLxZLt54MLW4Cbf28XE75nacsrmhMhtRNAaJGWE549eHou06yGvOyQDObvXPatOdOTQ-srBT9ZPcU-xpUQBpvLEf8wkue3zLuarv6ChbWqqgbaFVW9ENw43Kxm5gUmW3b-wR58iJUAInO4GQRuA5ASzVh3mSlqyYpfFnaEtYNm7J_Z35OCfmmdnJoiOOTJEsqx_TdpJ9V3i2d7Pt3V8K3jGU4Ool1GUCe_Q9wCLPthLQhqMQAvfAL4UY1av79Fw_o07UImmXdUCVA2lv1RhpdLDmmUcll3t29ugZN7Pv97cfkEqkmFIIwirXhsi2SpvsJbt4ZWyuPPw9xTZbN35sEXps-IgkDlSbhH6ik2ktHTm9QMcD3F79QG-nXEg9t3lRU3FESnrzn3eNjQb2siZyIeoJH1uh3UuUvUWp4XVIluZKWkIvHViBOtMC8Mxug0xV6hoLlhhUbvOO4gKZKBKtjzpKVYGenCJvUF4QTb7qmHRztQtVdobOCA0kk7ux3HqP5-cLw8c1__1o2U73_Xp9vhPraQ6iFMz1LTZmwWCyHlrgwk5pJTpL_Uw_fF6XsQ7yZZiNorLh3CHRE1Pa_8JkJ9W1MVm4CXCmKlv8Udc9ugXtS3RJSv9HVwZFy3)

</center>

## Адміністратор

<center style="
   border-radius:4px;
   border: 1px solid #cfd7e6;
   box-shadow: 0 1px 3px 0 rgba(89,105,129,.05), 0 1px 1px 0 rgba(0,0,0,.025);
   padding: 1em;"
>

![](http://www.plantuml.com/plantuml/png/bPAnJW9148RxUueDFTWRGY3QcjZOsIomCKHkCRjBeXrYOME2iQ2mymrEX8GWdA_mpnkvUtgvcyl5n7h_-_xvvgPhdJHk6eyZUptIDzB8MCY1cnZHm3FMsDCI1rhIFSrfXeJcI6dM4DAAtZ0UwP5rHlfq54sj6aYhHAFTxvnFh3kJMbwfM6dNFkftBZLUiQ4PFM2510VFN0Xy8GrW9DXZcq7vbmnwgiRAgPw-yvcS-O8jraZmYKtEVFSLQtfgqW8xfFX0Mkh9EXWeuesYtPgsUE9OtJgbXvOhNbXbgegYpd4N5ePjwFzveCUIByUmXXEZf5CXy2lxvWrMWLR87f1YbLlMDcKj1IhYXS6sz9ghrkyz9FwrzpycOj2QeNYW-0Niw4JJD3lLawaanZvHMNBNe_p1VmC0)

</center>


## Сценарції використання


| **ID:**                | **LoginUser** |
|:-----------------------|:-------------|
| **НАЗВА:**             | Вхід у систему |
| **УЧАСНИКИ:**          | Користувач, Система |
| **ПЕРЕДУМОВИ:**        | Користувач має обліковий запис |
| **РЕЗУЛЬТАТ:**         | Користувач отримує токен для доступу до системи |
| **ВИКЛЮЧНІ СИТУАЦІЇ:** | **InvalidCredentials** – Неправильний логін або пароль |
| **ОСНОВНИЙ СЦЕНАРІЙ:** | 1. Користувач відкриває сторінку авторизації.  <br> 2. Вводить логін і пароль.  <br> 3. Система надсилає запит `POST /api/auth/login`.  <br> 4. Система перевіряє правильність введених даних.  <br> 5. Якщо дані вірні, система генерує токен і відправляє його користувачеві.  <br> 6. Користувач отримує доступ до захищених функцій. |

@startuml

    |Гість|
    start;
    : Розпочинає взаємодію;
    : Вводить логін і пароль;
    : Надсилає запит `POST /api/auth/login`;


    |Система|
    : Перевіряє правильність введених даних;

    note right #FFB3B3
    <b> Можлива
    <b> InvalidCredentials
    end note
    : Генерує токен і відправляє його користувачеві;

    |Гість|
    : Отримує доступ до захищених функцій;
    : Закінчує взаємодію;
    stop;

@enduml

| **ID:**                | **LogoutUser** |
|:-----------------------|:------------------------|
| **НАЗВА:**             | Вихід із системи |
| **УЧАСНИКИ:**          | Користувач, Система |
| **ПЕРЕДУМОВИ:**        | Користувач автентифікований, токен збережено на пристрої користувача (наприклад у браузері) |
| **РЕЗУЛЬТАТ:**         | Токен видалено з пристрою користувача |
| **ВИКЛЮЧНІ СИТУАЦІЇ:** | **TokenNotFound** – токен не знайдено у сховищі |
| **ОСНОВНИЙ СЦЕНАРІЙ:** | 1. Користувач натискає кнопку "Вийти".  <br> 2. Система видаляє токен з пристрою користувача <br> 3. Інтерфейс застосунку оновлюється: користувача перенаправляють на сторінку входу або показують гостьовий режим. |

@startuml
    |Гість|
    start;
    : Розпочинає взаємодію;
    : Натискає кнопку "Вийти";
    : Токен авторизації видаляється з пристрою користувача;

    note right #FFB3B3
    <b> Можлива
    <b> TokenNotFound
    end note
    : Інтерфейс застосунку оновлюється;

    |                  Система                  |
    |Гість|
    : Закінчує взаємодію;
    stop;

@enduml


| **ID:**                | **CreatePost** |
|:-----------------------|:-------------|
| **НАЗВА:**             | Створення нового поста |
| **УЧАСНИКИ:**          | Користувач, Система |
| **ПЕРЕДУМОВИ:**        | Користувач авторизований у системі |
| **РЕЗУЛЬТАТ:**         | Новий пост створено та збережено у базі даних |
| **ВИКЛЮЧНІ СИТУАЦІЇ:** | **NotAuthenticated** – Користувач не авторизований  <br> **ValidationError** – Відсутні заголовок або зміст поста |
| **ОСНОВНИЙ СЦЕНАРІЙ:** | 1. Користувач натискає кнопку "Створити пост".  <br> 2. Система перевіряє, що користувач авторизований.  <br> 3. Користувач вводить заголовок і зміст поста.  <br> 4. Система надсилає запит `POST /api/post` з даними поста.  <br> 5. Система зберігає пост у базі даних і повертає підтвердження.  <br> 6. Користувач отримує повідомлення про успішне створення поста. |

@startuml

    |Гість|
    start;
    : Розпочинає взаємодію;
    : Натискає кнопку "Створити пост";
    : Вводить заголовок і зміст поста;
    : Надсилає запит `POST /api/post` з даними поста;


    |Система|
    : Перевіряє, що користувач авторизований;

    note right #FFB3B3
    <b> Можлива
    <b> NotAuthenticated
    end note

    : Зберігає пост у базі даних і повертає підтвердження;

    note right #FFB3B3
    <b> Можлива
    <b> ValidationError
    end note

    |Гість|
    : Отримує повідомлення про успішне створення поста;
    : Закінчує взаємодію;
    stop;

@enduml